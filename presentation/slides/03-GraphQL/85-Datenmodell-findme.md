---
title: findme Datenmodell
---

# Vorwort

Da hierbei lediglich eine Datenbank gegen eine andere ausgetauscht wird,
sprich CouchDB gegen MongoDB,
und beide Datenbanken dokumentenorientierte NoSQL-Datenbanken sind,
welche ihre Dokumente in Form von JSON-Objekten verwalten,
kann das ursprüngliche Datenmodell übernommen werden.

Aufgrund der Schnittstellen-Migration von REST zu GraphQL,
kann es sein,
dass sich kleinere Änderungen ergeben.
Sofern möglich und/oder nötig,
wurden die Datentypen und Bezeichner entsprechend den MongoDB-Regeln angepasst.

Nachfolgend ist das derzeitige Datenmodell aufgeführt.

# User

| Attribute | Type     | Value                                      | Required | Description                      |
|:----------|:---------|:-------------------------------------------|:---------|:---------------------------------|
| \_id      | ObjectId |                                            | x        | Object id generated by database. |
| login     | String   |                                            | x        | User's login name.               |
| password  | String   |                                            | x        | User's login password.           |
| role      | Number   | 0 = regular user, 1 = fake user, 2 = admin | x        | User's role.                     |

# Profile

| Attribute    | Type                  | Value                                                                                                 | Required | Description                                     |
|:-------------|:----------------------|:------------------------------------------------------------------------------------------------------|:---------|:------------------------------------------------|
| \_id         | ObjectId              |                                                                                                       | x        | Object id generated by database.                |
| user         | ObjectId (ref: User)  |                                                                                                       | x        | Reference of the user the profile belongs to.   |
| firstname    | String                |                                                                                                       | x        | User's first name.                              |
| lastname     | String                |                                                                                                       | x        | User's last name.                               |
| email        | String                |                                                                                                       | x        | User's email address.                           |
| birthday     | Date                  |                                                                                                       | x        | User's bithdate.                                |
| gender       | Number                | 0 = female, 1 = male                                                                                  |          | User's gender.                                  |
| familystatus | Number                | 0 = single, 1 = divorced, 2 = married                                                                 |          | User's family status.                           |
| children     | Number                |                                                                                                       |          | Amount of children the user has.                |
| aboutme      | String                |                                                                                                       |          | User's free text description.                   |
| privacy      | { friends, pictures } | { friends: (0 = private, 1 = freinds, 2 = public), pictures: (0 = private, 1 = freinds, 2 = public) } | x        | User's privacy settings.                        |
| reported     | Boolean               |                                                                                                       |          | Status flag whether the user has been reported. |
| haircolor    | Number                | 0 = red, 1 = blonde, 2 = brown, 3 = black                                                             |          | User's hair color.                              |
| eyecolor     | Number                | 0 = blue, 1 = green, 2 = brown                                                                        |          | User's eye color.                               |
| figure       | Number                | 0 = slim, 1 = regular, 2 = plussize                                                                   |          | User's body type.                               |

# Preferences

| Attribute | Type                    | Value                                     | Required | Description                                         |
|:----------|:------------------------|:------------------------------------------|:---------|:----------------------------------------------------|
| \_id      | ObjectId                |                                           | x        | Object id generated by database.                    |
| profile   | ObjectId (ref: Profile) |                                           | x        | Reference of the profile the preferences belong to. |
| gender    | Number                  | 0 = female, 1 = male, 2 = both            |          | The gender looking for.                             |
| ageFrom   | Number                  |                                           |          | The minimum age looking for.                        |
| ageTo     | Number                  |                                           |          | The maximum age looking for.                        |
| haircolor | Number                  | 0 = red, 1 = blonde, 2 = brown, 3 = black |          | The hair color looking for.                         |
| eyecolor  | Number                  | 0 = blue, 1 = green, 2 = brown            |          | The eye color looking for.                          |
| figure    | Number                  | 0 = slim, 1 = regular, 2 = plussize       |          | The body type looking for.                          |

# Friends

| Attribute | Type                    | Value                                                                                  | Required | Description                                     |
|:----------|:------------------------|:---------------------------------------------------------------------------------------|:---------|:------------------------------------------------|
| \_id      | ObjectId                |                                                                                        | x        | Object id generated by database.                |
| profile   | ObjectId (ref: Profile) |                                                                                        | x        | Reference of the profile the friends belong to. |
| friends   | Array({ id, status })   | { id: ObjectId (ref: Profile, status: Number (0 = request, 1 = accepted, 2 = denied) } | x        | List of mappings of offers for friendslist.     |

# Messages

| Attribute    | Type                    | Value | Required | Description                                                    |
|:-------------|:------------------------|:------|:---------|:---------------------------------------------------------------|
| \_id         | ObjectId                |       | x        | Object id generated by database.                               |
| timestamp    | Date                    |       | x        | Message's creation datetime.                                   |
| from         | ObjectId (ref: Profile) |       | x        | Sender's profile reference.                                    |
| to           | ObjectId (ref: Profile) |       | x        | Recipients's profile reference.                                |
| title        | String                  |       | x        | Message's title/subject.                                       |
| content      | String                  |       | x        | Message's content.                                             |
| archivedFrom | Boolean                 |       |          | Status flag whether the message is in sender's archive.        |
| archiveTo    | Boolean                 |       |          | Status flag whether the message is in recipient's archive.     |
| deletedFrom  | Boolean                 |       |          | Status flag whether the message has been deleted by sender.    |
| deletedTo    | Boolean                 |       |          | Status flag whether the message has been deleted by recipient. |
